/*
 * This file was generated by the Gradle 'init' task.
 *
 * This generated file contains a sample Java library project to get you started.
 * For more details take a look at the 'Building Java & JVM projects' chapter in the Gradle
 * User Manual available at https://docs.gradle.org/6.8.3/userguide/building_java_projects.html
 */

plugins {
    // Apply the java-library plugin for API and implementation separation.
    id 'java-library'
    id 'war'
}


apply from: 'https://raw.github.com/gretty-gradle-plugin/gretty/master/pluginScripts/gretty.plugin'
// buildscript {
//   repositories {
//     jcenter()
//   }

//   dependencies {
//     classpath 'org.gretty:gretty:3.0.3'
//   }
// }


//if (!project.plugins.findPlugin(org.akhikhl.gretty.GrettyPlugin))
//  project.apply(plugin: org.akhikhl.gretty.GrettyPlugin)


repositories {
    // Use JCenter for resolving dependencies.
    //jcenter()
    mavenCentral()
}

gretty {
  // httpsPort = 8443 //default HTTPS port
  httpsEnabled = true
  httpEnabled = false   // FORCE HTTPS!
  contextPath = '/'
}

dependencies {
    // Use JUnit Jupiter API for testing.
    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.6.2'

    // Use JUnit Jupiter Engine for testing.
    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine'

  
    implementation 'javax.servlet:javax.servlet-api:4.0.1'

    compile 'com.alibaba:fastjson:1.2.73'

    implementation group: 'com.fasterxml.jackson.core', name: 'jackson-core', version: '2.12.3'

    implementation 'org.postgresql:postgresql:42.2.19.jre7'

    compile group: 'org.apache.logging.log4j', name: 'log4j-api', version: '2.14.1'
    compile group: 'org.apache.logging.log4j', name: 'log4j-core', version: '2.14.1'

    implementation group: 'javax.mail', name: 'javax.mail-api', version: '1.6.2'
    implementation group: 'org.apache.commons', name: 'commons-text', version: '1.9'
    implementation group: 'com.sun.mail', name: 'javax.mail', version: '1.6.0'

}

tasks.named('test') {
    // Use junit platform for unit tests.
    useJUnitPlatform()
}
